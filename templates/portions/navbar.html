<nav id="navbar" class="bg-white/80 backdrop-blur-md shadow-md sticky top-0 z-50 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-6 lg:px-12">
        <div class="flex justify-between items-center h-16">
            
            <!-- Logo -->
            <a href="/" class="flex items-center space-x-2">
                <div class="w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-700 text-white font-bold text-lg shadow">
                    F
                </div>
                <span class="font-extrabold text-xl text-gray-800 tracking-tight">StarterKit</span>
            </a>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center space-x-4">
                <a href="/" class="px-3 py-2 rounded-md font-medium {% if active_page == 'home' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %} transition">Home</a>

                {% if is_authenticated %}
                    <a href="/accueil" class="px-3 py-2 rounded-md font-medium {% if active_page == 'accueil' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %} transition">Accueil</a>
                    <a href="/account/profile" class="px-3 py-2 rounded-md font-medium {% if active_page == 'profile' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Mon Profil</a>
                    <a href="/logout" class="px-3 py-2 rounded-md font-medium text-red-600 hover:text-red-700 transition">Déconnexion</a>
                {% else %}
                    <a href="/register" class="px-3 py-2 rounded-md font-medium {% if active_page == 'register' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %} transition">Inscription</a>
                    <a href="/login" class="px-3 py-2 rounded-md font-medium {% if active_page == 'login' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %} transition">Connexion</a>
                {% endif %}
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="menu-toggle" class="text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-2">
                    <svg id="menu-open" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    <svg id="menu-close" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden px-6 pb-4 space-y-3 bg-white/95 backdrop-blur-md shadow">
        <a href="/" class="block px-3 py-2 rounded-md font-medium {% if active_page == 'home' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Home</a>

        {% if is_authenticated %}
            <a href="/accueil" class="block px-3 py-2 rounded-md font-medium {% if active_page == 'accueil' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Accueil</a>
            <a href="/account/profile" class="block px-3 py-2 rounded-md font-medium {% if active_page == 'profile' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Mon Profil</a>
            <a href="/logout" class="block px-3 py-2 rounded-md font-medium text-red-600 hover:text-red-700">Déconnexion</a>
        {% else %}
            <a href="/register" class="block px-3 py-2 rounded-md font-medium {% if active_page == 'register' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Inscription</a>
            <a href="/login" class="block px-3 py-2 rounded-md font-medium {% if active_page == 'login' %}border-2 border-blue-600 text-blue-700{% else %}text-gray-700 hover:text-blue-600{% endif %}">Connexion</a>
        {% endif %}
    </div>
</nav>

<script>
    // Script menu mobile
    const toggle = document.getElementById("menu-toggle");
    const menu = document.getElementById("mobile-menu");
    const openIcon = document.getElementById("menu-open");
    const closeIcon = document.getElementById("menu-close");
    const navbar = document.getElementById("navbar");

    toggle.addEventListener("click", () => {
        menu.classList.toggle("hidden");
        openIcon.classList.toggle("hidden");
        closeIcon.classList.toggle("hidden");
    });

    // Effet au scroll : navbar plus opaque et plus floue
    window.addEventListener("scroll", () => {
        if (window.scrollY > 20) {
            navbar.classList.add("bg-white/90", "backdrop-blur-lg", "shadow-lg");
        } else {
            navbar.classList.remove("bg-white/90", "backdrop-blur-lg", "shadow-lg");
        }
    });
</script>
